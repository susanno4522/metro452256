/* Uploaded on: 26/07/2018 11:46:10 Metrofood Producci√≥n */
"use strict";!function(e,r,t,i){var n={getOrderFormActiveRequest:void 0,orderForm:void 0,orderFormInitialized:!1,events:{VTEX_ORDER_FORM_UPDATED:"orderFormUpdated.vtex",VTEX_REQUEST_BEGIN:"checkoutRequestBegin.vtex",VTEX_REQUEST_END:"checkoutRequestEnd.vtex",INIT:"Fizzmod.Minicart.Initialized",REQUEST_BEGIN:"Fizzmod.Minicart.requestBegin",REQUEST_END:"Fizzmod.Minicart.requestEnd",UPDATED:"Fizzmod.Minicart.Updated"},errors:{undefinedOrderForm:"orderForm is not defined",indexNotDefined:"Index is not defined",indexNotFound:"Index wasn't found in the orderForm",dataNotDefined:"Data is not defined",itemArrayNotDefined:"itemArray is not defined",itemArrayNotAnArray:"itemArray is not an array"},init:function(){var e=this;return this.vtexEvents(),this.getOrderForm().then(function(r){return e.trigger(e.events.INIT,r)}),this},trigger:function(r,t){e(window).trigger(r,t)},error:function(e,r){console.log(this.errors[e]),r&&console.log("Data: "+r)},updateOrderForm:function(e){this.orderFormInitialized=!0,this.orderForm=e,this.trigger(this.events.UPDATED,e)},vtexEvents:function(){var r=this;e(window).on(this.events.VTEX_ORDER_FORM_UPDATED,function(e,t){return r.updateOrderForm(t)}),e(window).on(this.events.VTEX_REQUEST_BEGIN,function(e,t){return r.trigger(r.events.REQUEST_BEGIN,t)}),e(window).on(this.events.VTEX_REQUEST_END,function(e,t){return r.trigger(r.events.REQUEST_END,t)})},getOrderForm:function(){var e=this,r=void 0;return this.getOrderFormActiveRequest?r=this.getOrderFormActiveRequest:(r=t.getOrderForm(),this.getOrderFormActiveRequest=r),this.trigger(this.events.REQUEST_BEGIN),r.done(function(){e.trigger(e.events.REQUEST_END),e.getOrderFormActiveRequest=void 0}),r},getOrderFormId:function(){return this.orderForm?this.orderForm.orderFormId:this.error("undefinedOrderForm")},getItems:function(){return this.orderForm?this.orderForm.items||[]:this.error("undefinedOrderForm")},removeItem:function(e){var r=this.orderForm.items[e];return r.index=e,t.removeItems([r])},removeItemArray:function(e){return e?Array.isArray(e)?t.removeItems(e):this.error("itemArrayNotAnArray"):this.error("itemArrayNotDefined")},updateItem:function(e,r){if(void 0===e)return this.error("indexNotDefined");if(!this.orderForm.items[e])return this.error("indexNotFound");if(!r)return this.error("dataNotDefined");var i=this.orderForm.items[e],n=i.id,o=i.seller,d=r.quantity,s={index:e,id:n,seller:o,quantity:d};return t.updateItems([s])}};r.Minicart=n}(window.jQuery,window.Fizzmod,window.vtexjs.checkout,window.vtexjs);
