"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function arrowShowFade(e,t,n){$(e).hasClass("rotateButton")?$(t).fadeOut(100,(function(){$(this).siblings(n).children().removeClass("rotateButton")})):$(t).fadeIn(100,(function(){$(this).siblings(n).children().addClass("rotateButton")}))}function globalPage(){function e(e){var t="",n="",o="";detectMob()?(e.map((function(e){n="",e.categories.map((function(e){n+='<a href="'.concat(e.link,'" class="menu-mobile__subitem-link">\n\t\t\t\t\t\t\t\t\t\t\t<span class="text">').concat(e.name,"</span>\n\t\t\t\t\t\t\t\t\t\t</a>")})),t+='<div class="menu-mobile__item '.concat(formatString(e.name),'">\n\t\t\t\t\t\t\t\t<div class="menu-mobile__item-link" data-url="').concat(e.link,'">\n\t\t\t\t\t\t\t\t\t<span class="wicon--s ').concat(e.icon.mobile,'"></span>\n\t\t\t\t\t\t\t\t\t<span class="text">').concat(e.name,'</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="menu-mobile__categories">\n\t\t\t\t\t\t\t\t\t').concat(n,"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>")})),$("#js-menu-container-mobile").append(t)):(e.map((function(e){n="",e.categories.map((function(e){o="",n+='<div class="item '.concat(formatString(e.name),'">\n\t\t\t\t\t\t\t\t\t\t\t<a href="').concat(e.link,'" class="item-link">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="text">').concat(e.name,'</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<div class="subcat subcat-').concat(formatString(e.name),'">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="item-wrapper">');var t,a=_createForOfIteratorHelper(e.subcategories);try{for(a.s();!(t=a.n()).done;){var i=t.value;void 0!==i.break&&!0===i.break||""!==o?o+='\t<div class="item '.concat(formatString(i.name),'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="').concat(i.link,'" class="item-link">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="text">').concat(i.name,"</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>"):n+='\t\t<div class="item '.concat(formatString(i.name),'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="').concat(i.link,'" class="item-link">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="text">').concat(i.name,"</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>")}}catch(e){a.e(e)}finally{a.f()}n+="\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>",""!==o&&(n+='<div class="item continue'.concat(formatString(e.name),'">\n\t\t\t\t\t\t\t\t\t\t\t<a class="item-link">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="text">&nbsp;</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<div class="subcat subcat-continue').concat(formatString(e.name),'">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="item-wrapper">').concat(o,"</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>"))})),t+='<div class="item '.concat(formatString(e.name),'">\n\t\t\t\t\t\t\t\t<a class="item-link" href="').concat(e.link,'">\n\t\t\t\t\t\t\t\t\t<span class="text">').concat(e.name,'</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<div class="subitem subcat-').concat(formatString(e.name),'" style="width:1004px;display:none;">\n\t\t\t\t\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t\t\t\t\t<span class="wicon ').concat(e.icon.desktop,'"></span>\n\t\t\t\t\t\t\t\t\t\t<span class="text">').concat(e.name,'</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="category-list">\n\t\t\t\t\t\t\t\t\t\t<div class="category-list-inner">\n\t\t\t\t\t\t\t\t\t\t\t').concat(n,"\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>")})),$("#js-menu-container").append(t),$("#js-menu-container > .item").hover((function(){$(this).children(".subitem").css("display","flex")}),(function(){$(this).children(".subitem").css("display","none")})))}function t(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/ /gi,"-")).replace(/,/gi,"")).replace(/á/gi,"a")).replace(/à/gi,"a")).replace(/é/gi,"e")).replace(/è/gi,"e")).replace(/í/gi,"i")).replace(/ì/gi,"i")).replace(/ó/gi,"o")).replace(/ò/gi,"o")).replace(/ú/gi,"u")).replace(/ù/gi,"u")).replace(/ñ/gi,"n")}function n(){return{buscarProducto:function(e,n){var a={url:"/api/catalog_system/pub/products/search/"+e,method:"GET",timeout:0,headers:{"Content-Type":"application/json"}};$.ajax(a).done((function(e){o([{name:e[0].categories[0].split("/")[1],url:t(e[0].categories[2])},{name:e[0].categories[0].split("/")[2],url:t(e[0].categories[1])},{name:e[0].categories[0].split("/")[3],url:t(e[0].categories[0])},{name:e[0].brand,url:t(e[0].categories[0])+"?&filters=fq=B:"+e[0].brandId}],n)}))},buscarArbolCategorias:function(e,t){for(var n=e.split("&"),a=[],i=[],r=[],s=[],l=[],c=[],d=[],u=0;u<n.length;u++)"Dep:"==n[u].substr(0,4)?a=n[u].substr(4,n[u].length).split(","):"Cat:"==n[u].substr(0,4)?i=n[u].substr(4,n[u].length).split(","):"Sub:"==n[u].substr(0,4)&&(r=n[u].substr(4,n[u].length).split(","));$.ajax({url:"/api/catalog_system/pub/category/tree/2/",method:"GET",timeout:0,headers:{"Content-Type":"application/json"}}).done((function(e){for(var n=0;n<e.length;n++){s.push({id:e[n].id,name:e[n].name,url:e[n].url});for(var u=0;u<e[n].children.length;u++){l.push({id:e[n].children[u].id,name:e[n].children[u].name,url:e[n].children[u].url});for(var p=0;p<e[n].children[u].children.length;p++)c.push({id:e[n].children[u].children[p].id,name:e[n].children[u].children[p].name,url:e[n].children[u].children[p].url})}}for(var m=0;m<a.length;m++)for(var h=0;h<s.length;h++)a[m]==s[h].id&&d.push({name:s[h].name,url:s[h].url});for(var g=0;g<i.length;g++)for(var v=0;v<l.length;v++)i[g]==l[v].id&&d.push({name:l[v].name,url:l[v].url});for(var f=0;f<r.length;f++)for(var b=0;b<c.length;b++)r[f]==c[b].id&&d.push({name:c[b].name,url:c[b].url});o(d,t)}))},buscarSmartCategory:function(e,t){var n=[];$.ajax({url:"/api/catalog_system/pub/category/tree/2/",method:"GET",timeout:0,headers:{"Content-Type":"application/json"}}).done((function(a){for(var i=0;i<a.length;i++){a[i].id==e&&n.push({name:a[i].name,url:a[i].url});for(var r=0;r<a[i].children.length;r++){a[i].children[r].id==e&&n.push({name:a[i].name,url:a[i].url},{name:a[i].children[r].name,url:a[i].children[r].url});for(var s=0;s<a[i].children[r].children.length;s++)a[i].children[r].children[s].id==e&&n.push({name:a[i].name,url:a[i].url},{name:a[i].children[r].name,url:a[i].children[r].url},{name:a[i].children[r].children[s].name,url:a[i].children[r].children[s].url})}}o(n,t)}))}}}function o(e,t){var n="";$(t).append('<div class="tag-container"></div>');for(var o=0;o<e.length;o++)n='<a href="'+e[o].url+'">'+e[o].name+"</a>",$(t).find("div.tag-container").append(n)}return{init:function(){var e;$(window).bind("scroll",(function(){1e3<=$(window).scrollTop()?$(".scroll-to-top").show():$(".scroll-to-top").hide()})),e=$(".shop-list-detail__action--buy-selected"),$(".shop-list-detail__action--go-up").not(".shop-list-detail__action--mobile").each((function(){$(this).before(e[0].outerHTML)})),$(".shop-list-detail__action--buy").hide(),e.hide(),$("a.minicart__action--buy span.text").text("Ver carrito"),$("#search-autocomplete-submit").click((function(e){(e=$.Event("keyup")).keyCode=13,$("#search-autocomplete-input").trigger(e)})),$(".minicart__products .product-quantity__input-wrapper .product-quantity__input").prop("disabled",!0),$(document).ajaxStop((function(){$(".minicart__products .product-quantity__input-wrapper .product-quantity__input").prop("disabled",!0)}))},setTimer:function(e,t){$(e).append('<h1>Solo faltan:</h1><div><span class="days"></span><div class="smalltext">DÍA</div></div><div><span class="hours"></span><div class="smalltext">HRS</div></div><div><span class="minutes"></span><div class="smalltext">MIN</div></div><div><span class="seconds"></span><div class="smalltext">SEG</div></div>');var n=new Date(t+" 23:59:59").getTime(),o=setInterval((function(){var e=(new Date).getTime(),t=n-e,a=Math.floor(t/864e5),i=Math.floor(t%864e5/36e5),r=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);$(".days").html(a),$(".hours").html(i),$(".minutes").html(r),$(".seconds").html(s),t<0&&(clearInterval(o),$(".days").html("0"),$(".hours").html("0"),$(".minutes").html("0"),$(".seconds").html("0"))}),1e3)},CustomPopupImage:function(e){if(!sessionStorage.getItem("customPopup")){var t='<div id="customLightbox"><div id="content_app"><div class="app-close">X</div><img src="'+e+'" /></div></div>';$("body").append(t),$(".app-close").not(".onesignal-popover-dialog, #onesignal-popover-allow-button, #onesignal-popover-cancel-button").click((function(){$("#customLightbox").hide(),sessionStorage.setItem("customPopup",!0)}))}},setTagsBanners:function(){$(".catBanner .box-banner").each((function(){var e=$(this).find("img").attr("alt"),t=e.substr(4,e.length);"PR--"==e.substr(0,4)?n().buscarProducto(t,this):"CO--"==e.substr(0,4)?n().buscarArbolCategorias(t,this):"CA--"==e.substr(0,4)&&n().buscarSmartCategory(t,this)}))},lanzarMenuCategorias:function(){var t=localStorage.getItem("categoriesTree");if(t){var n=new Date,o=JSON.parse(t);(void 0===o.expiry||n.getTime()>o.expiry)&&(localStorage.removeItem("categoriesTree"),t=null)}t?e(JSON.parse(t).value):$.get("/files/PE-Categories.json").done((function(t){var n={value:t,expiry:(new Date).getTime()+216e5};localStorage.setItem("categoriesTree",JSON.stringify(n)),e(n.value)})).error((function(e){return console.log("Not found configuration:",e)}))},setearTagGA:function(){$(".prefooter a").each((function(){$(this).attr("onclick","ga('send', 'event', 'Home2019', 'menuCatHome', '"+$(this).find("div.title").text()+"');")})),$(".catHome .catBanner .box-banner .tag-container a").each((function(){$(this).attr("onclick","ga('send', 'event', 'Home2019', 'catBanner', 'tag-container -  "+$(this).text()+"');")})),$(".menu > .item > a.item-link").each((function(){$(this).attr("onclick","ga('send', 'event', 'Home2019', 'Menu', '"+$(this).find("span").text()+"');")})),$(".menu > .item > .subitem > .category-list > .category-list-inner > .item > a").each((function(){$(this).attr("onclick","ga('send', 'event', 'Home2019', 'Menu', 'Categorias - "+$(this).find("span").text()+"');")})),$(".menu > .item > .subitem > .category-list > .category-list-inner > .item > .subcat > .item-wrapper > .item > a").each((function(){$(this).attr("onclick","ga('send', 'event', 'Home2019', 'Menu', 'Subcategorías - "+$(this).find("span").text()+"');")}))},buildSlideDepartamentos:function(){for(var e=JSON.parse(localStorage.arbolCat),n="",o=0;o<e.feed.entry.length;o++)""!=e.feed.entry[o].gsx$departamento.$t&&(n='<a class="item-link" href="/'+t(e.feed.entry[o].gsx$departamento.$t)+'"><div class="icon-wrapper"><span class="wicon--l '+e.feed.entry[o].gsx$icono.$t+'"></span></div><div class="text">'+e.feed.entry[o].gsx$departamento.$t+"</div></a>",$("#js-dep-slider-container").append(n))},liveChat:function(){window.__lc=window.__lc||{},window.__lc.license=11996022,function(e,t,n){function o(e){return a._h?a._h.apply(null,e):a._q.push(e)}var a={_q:[],_h:null,_v:"2.0",on:function(){o(["on",n.call(arguments)])},once:function(){o(["once",n.call(arguments)])},off:function(){o(["off",n.call(arguments)])},get:function(){if(!a._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return o(["get",n.call(arguments)])},call:function(){o(["call",n.call(arguments)])},init:function(){var e=t.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(e)}};!e.__lc.asyncInit&&a.init(),e.LiveChatWidget=e.LiveChatWidget||a}(window,document,[].slice)},innerHTMLliveChat:function(){$("#liveChat").html('\n            <a href="https://www.livechatinc.com/chat-with/11996022/" rel="nofollow">Chat with us</a>,\n            powered by <a href="https://www.livechatinc.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a>\n            ')},SubirAnnita:function(){$("#chat-widget").addClass("annitaMove")},liveChatLenovo:function(){window.__lc=window.__lc||{},window.__lc.license=11987475,function(e,t,n){function o(e){return a._h?a._h.apply(null,e):a._q.push(e)}var a={_q:[],_h:null,_v:"2.0",on:function(){o(["on",n.call(arguments)])},once:function(){o(["once",n.call(arguments)])},off:function(){o(["off",n.call(arguments)])},get:function(){if(!a._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return o(["get",n.call(arguments)])},call:function(){o(["call",n.call(arguments)])},init:function(){var e=t.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(e)}};!e.__lc.asyncInit&&a.init(),e.LiveChatWidget=e.LiveChatWidget||a}(window,document,[].slice)},innerHTMLliveChatLenovo:function(){$("#liveChatLenovo").html('\n            <a href="https://www.livechatinc.com/chat-with/11987475/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechatinc.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a>\n            ')},AnnitaLeft:function(){$("#chat-widget").addClass("annitaLeft")},liveChatEpson:function(){var e=document.createElement("script");e.src="https://api.wcx.cloud/widget/?id=c977956d922548b5864c5e5de3086010",document.head.appendChild(e)},changeLinkMacOrWindow:function(){var e=window.navigator.userAgent;$(".linkChangeJs")[0]&&(e.includes("Mac OS")||e.includes("iPhone OS")?$(".linkChangeJs a")[0].href="https://apps.apple.com/pe/app/supermercados-metro/id1289357369":$(".linkChangeJs a")[0].href="https://play.google.com/store/apps/details?id=com.cencosud.pe.metro&hl=es_PE&gl=US")}}}function detectMob(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function formatString(e){var t={" ":"-","á":"a","à":"a","é":"e","è":"e","í":"i","ì":"i","ó":"o","ò":"o","ú":"u","ù":"u","ñ":"n"};return e.toLowerCase().replace(/,/gi,"").split("").map((function(e){return t[e]||e})).join("").toString()}function homePage(){return{init:function(){var e,t,n;e=1440<=(t=$(window).width())?468:t/3-35,t<=475?$(".sliderHolder--teaser > .sliderHolder__slides").show().bxSlider({slideWidth:t-10,slideMargin:10,minSlides:1,maxSlides:1,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0}):$(".sliderHolder--teaser > .sliderHolder__slides").show().bxSlider({slideWidth:e,slideMargin:12,minSlides:1,maxSlides:3,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0}),(n=$(window).width())<=475&&$(".sliderHolder--novedades .sliderHolder__slides").bxSlider({slideWidth:n-10,slideMargin:10,minSlides:1,maxSlides:1,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0,pause:Math.ceil(1e3*(2*Math.random()+4))})},SliderTresBotones:function(){var e,t;e=1440<=(t=$(window).width())?468:t/3-35,t<=475?$(".sliderHolder--teaser > .sliderHolder__slides--btn").show().bxSlider({slideWidth:t-10,slideMargin:10,minSlides:1,maxSlides:1,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0}):$(".sliderHolder--teaser > .sliderHolder__slides--btn").show().bxSlider({slideWidth:e,slideMargin:12,minSlides:1,maxSlides:3,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0})},cintillosSlider:function(){var e=$(window).width();$(".cintillos-slider > .slides > a").length>1&&(e<=475?$(".cintillos-slider > .slides").show().bxSlider({slideWidth:e,slideMargin:10,minSlides:1,maxSlides:1,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!1,speed:600,pause:7e3}):$(".cintillos-slider > .slides").show().bxSlider({infiniteLoop:!0,responsive:!0,auto:!0,autoControls:!1,autoControlsCombine:!0,pager:!1,controls:!0,hideControlOnEnd:!1,speed:600,pause:7e3}))},lanzarPopUp:function(e,t,n){var o,a=475<$(window).width()?e:t;o=n?'<div class="popup__wrapper"><div class="popup__content"><div class="popup__logo"><a href="'+n+'" target="_blank"><img src="'+a+'" alt="Wong.pe--popup" /></a><span class="font-icn popup--cerrar"></span></div></div></div>':'<div class="popup__wrapper"><div class="popup__content"><div class="popup__logo"><img src="'+a+'" alt="Wong.pe--popup" /><span class="font-icn popup--cerrar"></span></div></div></div>',$("body").append(o),$("html").css({overflow:"hidden"}),$(".popup--cerrar").click((function(){$(".popup__wrapper").fadeOut("slow",(function(){$(".popup__wrapper").remove(),$("html").css({overflow:"inherit"})}))}))},lanzarPopUpAviso:function(e){var t;t='<div class="container-all" id="modal">\n        \n\t\t\t<div class="pop-up-aviso">\n\t\t\t\t<div class="popup-center-active">\n\t\t\t\t\t<span class="btn-close-popup">X</span>\n\t\t\t\t\t<img class="popup-img" src="'.concat(e,'"/>\t\n\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>'),$("body").append(t),$(".btn-close-popup").click((function(){$(".pop-up-aviso").fadeOut("slow",(function(){$(".popup-img").remove()}))}))},setScrollMenuCategorias:function(){try{var e=$(".menuCatHome--sticky"),t=e.offset().top;$(window).bind("scroll",(function(){$(window).scrollTop()>=t?e.addClass("menuCatHome--fixed"):e.removeClass("menuCatHome--fixed")}))}catch(e){}},insertBotonesCollage:function(){for(var e=1;e<=4;e++)$(".collage-"+e+" > a").each((function(){var e=$(this).attr("txtBoton");e&&$(this).html("<div><span>"+e+"</span></div>")}))},runMainSlider:function(){var e=$(window).width();1<$(".sliderHolder--main > .sliderHolder__slides .adaptive-image").length&&(e<=475?$(".sliderHolder--main > .sliderHolder__slides").show().bxSlider({slideWidth:e,slideMargin:10,minSlides:1,maxSlides:1,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0}):$(".sliderHolder--main > .sliderHolder__slides").show().bxSlider({infiniteLoop:!0,responsive:!0,auto:!0,autoControls:!0,autoControlsCombine:!0,pager:!0})),$(".sliderHolder--main .sliderHolder__slides .adaptive-image").each((function(t){console.log(t+": "+$(this).text()),$(this).find("img").attr("alt","Encuentra lo mejor en www.metro.pe"),e<=475?$(this).find("img").attr({width:"640",height:"685"}):$(this).find("img").attr({width:"1920",height:"620"})}))},runCounter:function(){if(0<$(".counterBanner__timer .metro-contador__frase").size()){$(".counterBanner").css({display:"block"}),1===$(".counterBanner__slider>.box-banner").length&&$(".counterBanner__slider").addClass("oneBannerOnly");var e=$(window).width(),t=$(".counterBanner__products").width()/2-10;e<=475?1<$(".counterBanner__slider .box-banner").length&&$(".counterBanner__slider").bxSlider({slideWidth:e-10,slideMargin:10,minSlides:1,maxSlides:1,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0,pause:Math.ceil(1e3*(2*Math.random()+4))}):2<$(".counterBanner__slider .box-banner").length&&$(".counterBanner__slider").bxSlider({slideWidth:t,slideMargin:15,minSlides:1,maxSlides:3,infiniteLoop:!0,responsive:!0,controls:!0,pager:!1,auto:!0,moveSlides:1,hideControlOnEnd:!0,pause:Math.ceil(1e3*(2*Math.random()+4))}),$(".counterBanner--Home").show();var n=$(".counterBanner").find(".metro-contador__tiempo");pinker.timerSlider($(n),$(n).attr("date-end"),$(n).attr("hour-end"))}},runTimer:function(){var e=$(".metro-contador-slider").find(".wtimer--class");pinker.setTimerBanner($(e),$(e).attr("date-end"),$(e).attr("hour-end"),"Solo quedan:")},coleccionSlideTeasers:function(){$(".column-2-colecc").addClass("newClass"),$(".column-1-colecc").addClass("newClass");var e=$(window).width();$(".n6colunas").addClass("sliderHolder__slidesCol"),$(".n5colunas").addClass("sliderHolder__slidesCol"),$(".n4colunas").addClass("sliderHolder__slidesCol"),$(".n2colunas").addClass("sliderHolder__slidesCol"),e<=960?($(".column-5-colecc").addClass("newClass"),$(".column-4-colecc").addClass("newClass"),$(".column-2-colecc").removeClass("newClass").addClass("showColumn"),$(".sliderColeccion > .sliderHolder__slidesCol").show().bxSlider({slideWidth:2*e/3+60,slideMargin:10,minSlides:1,maxSlides:2,infiniteLoop:!0,responsive:!1,controls:!0,pager:!0,auto:!1,moveSlides:2,hideControlOnEnd:!0})):$(".sliderColeccion > .sliderHolder__slidesCol").show().bxSlider({slideWidth:e,slideMargin:12,minSlides:1,maxSlides:2,mode:"horizontal",infiniteLoop:!0,responsive:!0,controls:!0,auto:!1,moveSlides:3,hideControlOnEnd:!0,captions:!0,pager:!0,shrinkItems:!1})},setTimerHome:function(){var e=$(".timer_container").find(".wtimer--class");pinker.setTimerBanner($(e),$(e).attr("date-end"),$(e).attr("hour-end")),$(".wtimer--class").find("h1").text("¡Solo por hoy!")},activeContentCorporativo:function(e,t,n){$(e).each((function(){$(this).attr(t)!==n?($(this).removeClass("active"),$(this).css("display","none")):$(this).addClass("active")}))},callActiveContentCorporative:function(){$(".prueba a").each((function(){"prod"!==$(this).attr("data-opc-business")&&$(this).removeClass("active")})),$(".content-product__menu[data-opc-business='prod']").addClass("active"),homePage().activeContentCorporativo(".content-general","data-business","prod"),homePage().activeContentCorporativo(".content-card","data-card","eVale")},innerHtmlTemplate:function(){setTimeout((function(){$("#colecc-prueba-1").removeClass("loading"),$("#coleccion-gond-1").removeClass("colecc-prueba-1"),$("#colecc-prueba-2").removeClass("loading"),$("#coleccion-gond-2").removeClass("colecc-prueba-2"),$("#colecc-prueba-3").removeClass("loading"),$("#coleccion-gond-3").removeClass("colecc-prueba-3"),$("#colecc-prueba-4").removeClass("loading"),$("#coleccion-gond-4").removeClass("colecc-prueba-4"),$("#colecc-prueba-mob-1").removeClass("loading-mob"),$("#coleccion-gond-mob-1").removeClass("colecc-prueba-1"),$("#colecc-prueba-mob-2").removeClass("loading-mob"),$("#coleccion-gond-mob-2").removeClass("colecc-prueba-2"),$("#colecc-prueba-mob-3").removeClass("loading-mob"),$("#coleccion-gond-mob-3").removeClass("colecc-prueba-3"),$("#colecc-prueba-mob-4").removeClass("loading-mob"),$("#coleccion-gond-mob-4").removeClass("colecc-prueba-4"),$("#colecc-prueba-5").removeClass("loading"),$("#coleccion-gond-5").removeClass("colecc-prueba-1"),$("#colecc-prueba-6").removeClass("loading"),$("#coleccion-gond-6").removeClass("colecc-prueba-1"),$("#colecc-prueba-7").removeClass("loading"),$("#coleccion-gond-7").removeClass("colecc-prueba-1"),$("#colecc-prueba-8").removeClass("loading"),$("#coleccion-gond-8").removeClass("colecc-prueba-1")}),500)},cambiarSCHomeOfBannerp:function(){$(".shipping-preference__change-preference").trigger("click")},eliminarDoblePorcentaje:function(e){var t="";document.querySelectorAll("div.flag.discount-percent[data-discount]").forEach((function(e){return t=e.innerHTML.slice(0,-1),e.innerHTML=t,e}))},newCarruselVtex:function(){$(".box-carrusel > .product-shelf > h2").remove(),$(".box-carrusel > .product-shelf").addClass("owl-carousel owl-theme"),$(".owl-carousel").owlCarousel({loop:!0,margin:10,nav:!0,responsive:{0:{items:2},600:{items:3},1162:{items:4}}})},newCarruselFourColumns:function(){$(".box-carrusel-4-columns > .product-shelf > h2").remove(),$(".box-carrusel-4-columns > .product-shelf").addClass("owl-carousel owl-theme"),$(".owl-carousel").owlCarousel({loop:!0,margin:10,nav:!0,responsive:{0:{items:2},600:{items:3},1360:{items:4}}})},newCarruselVtexFiveColumns:function(){$(".box-carrusel-5-columns > .product-shelf > h2").remove(),$(".box-carrusel-5-columns > .product-shelf").addClass("owl-carousel owl-theme"),$(".owl-carousel").owlCarousel({loop:!0,margin:10,nav:!0,responsive:{0:{items:2},580:{items:3},760:{items:4},1162:{items:5}}})},newCarruselVtexSixColumns:function(){$(".box-carrusel-6-columns > .product-shelf > h2").remove(),$(".box-carrusel-6-columns > .product-shelf").addClass("owl-carousel owl-theme"),$(".owl-carousel").owlCarousel({loop:!0,margin:10,nav:!0,responsive:{0:{items:2},600:{items:4},1162:{items:6}}})}}}function insertBannerToColection(e,t,n){if(-1!==window.location.href.indexOf(n)){var o,a;o='<img class="center" style="width:100%; margin-top: 15px" src="'.concat(e,'"/>\t'),a='<img class="center" style="width:100%; margin-top: 86px;" src="'.concat(t,'"/>\t'),detectMob()?($("#mtf-bannerColection").append(a),$(".product-list-wrapper").css("margin-top","inherit !important")):$("#mtf-bannerColection").append(o)}else console.log("No va en esta colección porque el id es diferenre a 72454")}function sliderVentasCorporativas(){$("#slider-top-vc").bxSlider({auto:!0,pause:5e3,infiniteLoop:!0}),$(".banner-promo").click((function(){$(".options a[data-opc-business='prom']").trigger("click")}))}function salesChannelWork(){function e(e,t){for(var a,i=JSON.parse(localStorage.getItem("salesChannels")),r=e||"delivery",s=0;s<i.length;s++)if(Number(i[s].salesChannel)===n(t,o)){a={method:r,store:i[s]},console.log("shipping",a),console.log("SC::::> ",JSON.stringify(a)),localStorage.setItem("shippingPreference",JSON.stringify(a));break}}function t(e,t){var o=new URL(window.location.href);window.Fizzmod.Utils.setCookie("Backup_VTEXSC",e,3e3),o.searchParams.delete("sc"),""===o.search?t.redirectUrl=o.pathname+"?sc="+n(e,t):t.redirectUrl=o.pathname+o.search+"&sc="+n(e,t),console.log("Vamos a redireccionar a: ",t.redirectUrl),window.location.replace(t.redirectUrl)}function n(e,t){if(e)for(var n=0;n<t.salesChannelList.length;n++)if(e===t.salesChannelList[n].sc)return e;return t.salesChannelDefault.sc}var o={salesChannelDefault:{sc:19},salesChannelList:[{sc:19},{sc:15},{sc:18},{sc:20},{sc:21},{sc:39},{sc:40},{sc:47},{sc:24},{sc:25},{sc:27},{sc:28},{sc:29},{sc:31},{sc:34},{sc:35},{sc:36},{sc:37},{sc:42},{sc:38},{sc:41},{sc:45},{sc:26},{sc:43},{sc:49},{sc:50},{sc:58},{sc:57},{sc:61},{sc:62},{sc:63},{sc:32},{sc:66},{sc:30},{sc:69},{sc:71},{sc:72},{sc:73}],VTEXSC:0,redirectUrl:""};return{loadOverlay:function(){!function(){function e(e){var o=[],a="";$.getJSON("/files/PE-districts.json").done((function(i){for(var r in i)i[r][0].department===e&&(n(o,i[r][0].province)||(o.push(i[r][0].province),a=a+'<option value="'+i[r][0].province+'">'+i[r][0].province+"</option>"));t(o[0]),$(".js-overlay-select-provinces").empty(),$(".js-overlay-select-provinces").append(a)}))}function t(e){var t=[],o="";$.getJSON("/files/PE-districts.json").done((function(a){for(var i in a)a[i][0].province===e&&(n(t,a[i][0].district)||(t.push(a[i][0].district),o=o+'<option value="'+a[i][0].salesChannel+'">'+a[i][0].district+"</option>"));$(".js-overlay-select-districts").empty(),$(".js-overlay-select-districts").append(o)}))}function n(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}var o,a;o="",a=[],$.getJSON("/files/PE-districts.json").done((function(e){for(var t in e)n(a,e[t][0].department)||(a.push(e[t][0].department),o=o+'<option value="'+e[t][0].department+'">'+e[t][0].department+"</option>");$(".js-overlay-select-departments").empty(),$(".js-overlay-select-departments").append(o)})),e("Lima"),$(".js-overlay-select-departments").on("change",(function(){e(this.value)})),$(".js-overlay-select-provinces").on("change",(function(){t(this.value)}))}(),$(".js-shipping-selector__method-delivery").click((function(){$(".js-shipping-preference__select-delivery").show(),$(".shipping-selector__methods-container").hide()})),$(".js-shipping-selector__method-store").click((function(){$(".js-shipping-preference__select-store").show(),$(".shipping-selector__methods-container").hide()})),$(".js-link-to-prev").click((function(){$(".js-shipping-preference__select-delivery").hide(),$(".js-shipping-preference__select-store").hide(),$(".shipping-selector__methods-container").show()})),$(".js-overlay-button-sc").click((function(n){e("delivery",Number($(".js-overlay-select-districts").val())),t(Number($(".js-overlay-select-districts").val()),o)})),$(".js-overlay-button-store").click((function(n){e("store",Number($(".js-overlay-select-store").val())),t(Number($(".js-overlay-select-store").val()),o)}))},watchCarrito:function(){$(document).on("click","button.product-add-to-cart",(function(e){var t=e.currentTarget.offsetParent,n=function(e){return t.querySelector(e)||{}},o=n(".product-item__info a").href;o||(o=n(".is-available a").href),o||(o=window.location.href);var a=o.indexOf(".pe/");a+=3;var i=o.substr(0,a),r=o.substr(a),s=(fetch(i+"/api/catalog_system/pub/products/search"+r).then((function(e){return e.json()})).then((function(e){return s(e[0])})),function(e){1==e.items[0].sellers[0].sellerId&&null==JSON.parse(localStorage.getItem("shippingPreference"))&&$(".shipping-preference__change-preference").trigger("click")})}))}}}function ComprobarChecNews(e){1==e?$("#footer .newsletter-wrapper .newsletter-submit").removeAttr("disabled"):0==e&&$("#footer .newsletter-wrapper .newsletter-submit").attr("disabled","disabled")}function verifyCheckPolitics(e){e?$(".sugerencias .button.submit").removeAttr("disabled"):$(".sugerencias .button.submit").attr("disabled","disabled")}function vtexBrain(){return{build6:function(){$(".vtex-brain-6 .product-shelf.n6colunas>h2, .vtex-brain-4 .product-shelf.n4colunas>h2").remove(),$(".vtex-brain-6 .product-shelf.n6colunas, .vtex-brain-4 .product-shelf.n4colunas").bxSlider({captions:!0,speed:1500})}}}function catalogImg(){return{addTitleOfCatalog:function(e){$(".minisCatalogImg>.box-banner>a").each((function(e){var t='<li class="hideTitle" id="numb-'+e+'"><h1>'+$(this).find("img").attr("id")+'</h1><p class="vigencia">'+$(this).find("img").attr("alt")+"</p></li>";$(".content .titleCatalogo").append(t),$(this).attr("data-numb","numb-"+e)}))},showTitleForHover:function(){$(".minisCatalogImg>.box-banner>a").mouseover((function(){var e=$(this).attr("data-numb");$("#"+e).removeClass("hideTitle")})),$(".minisCatalogImg>.box-banner>a").mouseout((function(){var e=$(this).attr("data-numb");$("#"+e).addClass("hideTitle")}))}}}function tabsCatalogos(){$(".tab-list").on("click",".tab",(function(e){e.preventDefault(),$(".tab").removeClass("active"),$(".tab-content").removeClass("show"),$(this).addClass("active"),$($(this).attr("href")).addClass("show")}))}$("#btn-more-toggle-1").click((function(){arrowShowFade("#img-down-1","#bannerImage-2","#btn-more-toggle-1")})),$("#btn-more-toggle-2").click((function(){arrowShowFade("#img-down-2","#bannerImage-4","#btn-more-toggle-2")})),$("#btn-more-toggle-3").click((function(){arrowShowFade("#img-down-3","#bannerImage-6","#btn-more-toggle-3")})),$("#btn-more-toggle-4").click((function(){arrowShowFade("#img-down-4","#bannerImage-8","#btn-more-toggle-4")})),$("#btn-more-toggle-5").click((function(){arrowShowFade("#img-down-5","#bannerImage-10","#btn-more-toggle-5")})),$("#btn-more-toggle-6").click((function(){arrowShowFade("#img-down-6","#bannerImage-12","#btn-more-toggle-6")})),$("#btn-more-toggle-7").click((function(){arrowShowFade("#img-down-7","#bannerImage-14","#btn-more-toggle-7")})),$("#btn-more-toggle-8").click((function(){arrowShowFade("#img-down-8","#bannerImage-16","#btn-more-toggle-8")})),$(window).ready((function(){globalPage().init(),globalPage().lanzarMenuCategorias(),"empty-search-page"==$("body").attr("id")&&globalPage().buildSlideDepartamentos(),$("body").hasClass("ventas-corporativas")&&sliderVentasCorporativas(),vtexBrain().build6(),salesChannelWork().loadOverlay(),salesChannelWork().watchCarrito(),("home-page"==$("body").attr("id")||$("body").hasClass("homepopup"))&&(globalPage().setTagsBanners(),homePage().init(),homePage().SliderTresBotones(),homePage().cintillosSlider(),homePage().insertBotonesCollage(),homePage().runMainSlider(),homePage().runCounter(),homePage().setTimerHome(),0===$(".counterBanner--Home .counterBanner__slider .btnHover").length&&$(".counterBanner--Home").hide()),$(".us-business .business .box-banner a:not(.bx-clone)").click((function(e){"#e-vale-id"==e.currentTarget.hash&&homePage().callActiveContentCorporative()})),"#e-vale-id"==window.location.href.slice(54,64)&&homePage().callActiveContentCorporative(),$(".LG").length&&globalPage().liveChat(),$(".Lenovo").length&&(globalPage().liveChatLenovo(),globalPage().AnnitaLeft()),$(".Epson").length&&globalPage().liveChatEpson(),homePage().coleccionSlideTeasers(),globalPage().innerHTMLliveChat(),globalPage().innerHTMLliveChatLenovo(),homePage().innerHtmlTemplate(),"home-page"==$("body").attr("id")&&Array.from(document.getElementsByClassName("bannerChangeDelivery")).forEach((function(e){e.addEventListener("click",(function(){homePage().cambiarSCHomeOfBannerp()}))})),globalPage().changeLinkMacOrWindow(),homePage().newCarruselVtex(),homePage().newCarruselVtexFiveColumns(),homePage().newCarruselFourColumns(),homePage().newCarruselVtexSixColumns(),$("body").hasClass("new-catalog")&&(catalogImg().addTitleOfCatalog(),catalogImg().showTitleForHover()),$("body").hasClass("tabs-catalogo")&&tabsCatalogos()})),$(window).load((function(){$("input[type=checkbox][id=chec]").change((function(){$(this).prop("checked")?$(".sugerencias .button.submit").removeAttr("disabled"):$(".sugerencias .button.submit").attr("disabled","disabled")})),$("body").hasClass("como-comprar")&&pinker.goToScroll(),"home-page"==$("body").attr("id")&&(homePage().setScrollMenuCategorias(),pinker.goToScroll(100)),$("#footer .newsletter-wrapper > label").append('<div class="check-news"><input name="chec" type="checkbox" id="chec" onchange="ComprobarChecNews(this.checked);"><label for="chec">He leído y acepto la <a href="https://www.metro.pe/institucional/politicas-privacidad-seguridad" target="_blank">Política de Privacidad y Seguridad y la Política de Cookies</a></label></div>'),$("#footer .newsletter-wrapper .newsletter-submit").attr("disabled","disabled"),globalPage().setearTagGA()})),$(window).ready((function(){$("body").hasClass("search-result-simple")&&(homePage().runMainSlider(),homePage().insertBotonesCollage())})),"empty-search-page"==$("body").attr("id")&&homePage().newCarruselVtexSixColumns();