/* Update on: 26/01/2018 11:08:47 Metrofood */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fizzmod=function(e,t,n){function r(){}t.dataLayer||(t.dataLayer=[]);var i=function(){function e(e,t,n){for(var s in a)if(a.hasOwnProperty(s)&&s in n){var u=null,c=null;if(0===a[s].indexOf(".")?(u=a[s].substr(1,a[s].length),c=u in n?n[u]:null):c=a[s],c){if(c in o)for(var l=o[c].length;l--;)o[c][l].call(null,c,n),o[c].splice(l,1);if(c in i)for(var f=i[c].length;f--;)i[c][f].call(null,c,n);r[c]=n}}}function n(){}var r={},i={},o={},a={event:".event",pageCategory:"page",categoryId:"category"};if(t.dataLayer instanceof Array){for(var s=0,u=t.dataLayer.length;s<u;s++)for(var c in a)if(a.hasOwnProperty(c)&&c in t.dataLayer[s])if(0===a[c].indexOf(".")){var l=a[c].substr(1,a[c].length);r[t.dataLayer[s][l]]=t.dataLayer[s]}else r[a[c]]=t.dataLayer[s];t.dataLayer.push=function(){var t=this.push;return function(){for(var n=0,r=this.length,i=arguments.length;n<i;n++,r++)e(this,r,arguments[n]);return t.apply(this,arguments)}.bind(this)}.bind(t.dataLayer)()}return n.prototype={on:function(){for(var e=Array.prototype.shift.call(arguments).split(" "),t=Array.prototype.slice.call(arguments),n=0,o=e.length;n<o;n++){e[n]in i||(i[e[n]]=[]),i[e[n]]=i[e[n]].concat(t);if(e[n]in r)for(var a=t.length;a--;)t[a].call(null,e[n],r[e[n]])}return this},once:function(){for(var e=Array.prototype.shift.call(arguments).split(" "),t=Array.prototype.slice.call(arguments),n=0,i=e.length;n<i;n++)if(e[n]in r)for(var a=t.length;a--;)t[a].call(null,e[n],r[e[n]]);else e[n]in o||(o[e[n]]=[]),o[e[n]]=o[e[n]].concat(t);return this}},new n}();r.prototype.TagManager=i,Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1}),RegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};var o={},a=!!("ontouchstart"in t||navigator.msMaxTouchPoints),s={SEARCH:"/api/catalog_system/pub/products/search/"},u={},c={currency:null,getServerTime:function(t){return e.ajax({url:"/no-cache/HoraAtualServidor.aspx",success:function(e){var n=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],r=e.match(/([0-9]+):([0-5][0-9]):([0-5][0-9])/)[0],i=parseInt(e.match(/[a-z]{3} ([0-9]{1,2})/)[1]),o=n.indexOf(e.match(/[a-z]{3}/)[0])+1,a=parseInt(e.match(/[0-9]{4}/)[0]);i<10&&(i="0"+i),o<10&&(o="0"+o),"function"==typeof t&&t.call(null,new Date(a+"/"+o+"/"+i+" "+r))}})},getOrder:function(t){return e.ajax({type:"GET",url:"/api/checkout/pub/orders/"+t})},getOriginalImage:function(e){return"string"==typeof e?e.replace(/(ids\/[0-9]+)-([0-9-]+)\//,"$1/"):e},getResizedImage:function(e,t,n){return void 0===t||void 0===n||"string"!=typeof e?e:(e=e.replace(/(?:ids\/[0-9]+)-([0-9]+)-([0-9]+)\//,function(e,r,i){return e.replace("-"+r+"-"+i,"-"+t+"-"+n)}),e.replace(/(ids\/[0-9]+)\//,"$1-"+t+"-"+n+"/"))},isValidPrice:function(e,t,n,r){return t=t||",",n=n||".",r="number"!=typeof r?2:r,new RegExp("^[0-9]{1,3}(?:\\"+t+"(?:(?:[0-9]{3}(?:"+t+"|))+))?(?:\\"+n+"[0-9]{0,"+r+"})?$").test(e.toString())},getProduct:function(t){return"products"in u||(u.products={}),void 0!==u.products[t]&&void 0!==u.products[t].done?u.products[t]:e.Deferred(function(){var n=this;if(void 0!==u.products[t])return n.resolve(u.products[t]);u.products[t]=n,e.ajax({url:s.SEARCH+"?fq=productId:"+t,dataType:"json",success:function(e){u.products[t]=e,n.resolve(e)},error:function(){u.products[t]=void 0,n.reject()}})}).promise()},getSKU:function(t){return"skus"in u||(u.skus={}),void 0!==u.skus[t]&&void 0!==u.skus[t].done?u.skus[t]:e.Deferred(function(){var n=this;if(void 0!==u.skus[t])return n.resolve(u.skus[t]);u.skus[t]=n,e.ajax({url:s.SEARCH+"?fq=skuId:"+t,dataType:"json",success:function(e){u.skus[t]=e,n.resolve(e)},error:function(){u.skus[t]=void 0,n.reject()}})}).promise()},getCountryFile:function(t){return e.Deferred(function(){var n=this;void 0===t&&(t="ARG"),e.ajax({url:"https://io.vtex.com.br/?prefix=front.shipping-data",type:"get",dataType:"xml",success:function(r){var i=!1;e(r).find("Contents Key").each(function(){this.innerHTML.match("front.shipping-data/[0-9.]+/script/rule/Country"+t+".js$")&&(i=this.innerHTML)}),i?n.resolve("https://io.vtex.com.br/"+i):n.reject()},error:function(){n.reject()}})}).promise()},addSKU:function(t,n,r,i,o){var a="";if(n=n||1,r=r||1,"object"==(void 0===t?"undefined":_typeof(t))){for(var s in t)a+="sku="+s+"&qty="+t[s]+"&seller="+r+"&";a=a.substring(0,a.length-1)}else a="sku="+t+"&qty=1&seller="+r;return e.ajax({url:(o||"")+"/checkout/cart/add?"+a+"&redirect=false&sc="+n+c.serialize(i,!0)})},removeSKU:function(t){return t=t instanceof Array?t:[t],t=t.map(function(e){return 0|e}),e.Deferred(function(){var e=this;vtexjs.checkout.getOrderForm().then(function(n){for(var r=[],i=0,o=n.items.length;i<o;i++)~t.indexOf(0|n.items[i].id)&&(n.items[i].index=i,r.push(n.items[i]));return vtexjs.checkout.removeItems(r).done(function(t){e.resolve(t)})})}).promise()},emptyCart:function(){return e.Deferred(function(){var e=this;vtexjs.checkout.getOrderForm().done(function(t){return t.items.length?vtexjs.checkout.removeAllItems(t.items).done(function(t){e.resolve(t)}):e.resolve(t)}).fail(function(){e.reject()})}).promise()},checkLogin:function(){return e.Deferred(function(){var t=this;e.ajax({type:"GET",url:"/no-cache/profileSystem/getProfile",data:{},success:function(e){void 0!==e.IsUserDefined&&e.IsUserDefined?t.resolve(e):t.reject(e)},error:function(){t.reject()}})}).promise()},getCategories:function(t,n){return e.Deferred(function(){var r=this;e.ajax({type:"GET",url:"/api/catalog_system/pub/category/tree/"+(t||50),dataType:"json",headers:{accept:"application/json",contentType:"application/json; charset=utf-8"},success:function(e){void 0!==n?r.resolve(c.objectSearch(e,{id:n})):r.resolve(e)},error:function(){r.reject()}})}).promise()},getSearchTotalItems:function(t){var n=e.Deferred();return e.ajax({url:"/api/catalog_system/pub/products/search/"+(t||"?")+"&_from=0&_to=0",type:"GET",success:function(e,t,r){n.resolve(r.getResponseHeader("resources").split("/").pop())},error:function(){n.reject()}}),n.promise()},addAnimation:function(e,t){Object.keys(o).length||(document.addEventListener("animationstart",function(e){if(e.animationName in o)for(var t=0,n=o[e.animationName].length;t<n;t++)o[e.animationName][t].call(null,e)}),document.addEventListener("webkitAnimationStart",function(e){if(e.animationName in o)for(var t=0,n=o[e.animationName].length;t<n;t++)o[e.animationName][t].call(null,e)}),document.addEventListener("MSAnimationStart",function(e){if(e.animationName in o)for(var t=0,n=o[e.animationName].length;t<n;t++)o[e.animationName][t].call(null,e)}),document.addEventListener("oAnimationStart",function(e){if(e.animationName in o)for(var t=0,n=o[e.animationName].length;t<n;t++)o[e.animationName][t].call(null,e)}),document.addEventListener("mozAnimationStart",function(e){if(e.animationName in o)for(var t=0,n=o[e.animationName].length;t<n;t++)o[e.animationName][t].call(null,e)})),o[e]instanceof Array||(o[e]=[]),o[e].push(t)},setCookie:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="";if(t="object"==(void 0===t?"undefined":_typeof(t))?JSON.stringify(t):t,!isNaN(n)){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="expires="+o.toGMTString()+";"}document.cookie=r?e+"="+t+"; "+i+"path=/":e+"="+t+";domain=."+location.host+";"+i+"path=/"},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t)){var o=i.substring(t.length,i.length);return c.isJSON(o)?JSON.parse(o):o}}return""},deleteCookie:function(e){this.setCookie(e,"",-1)},isEmail:function(e){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},isURL:function(e){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},isJSON:function(e){try{return JSON.parse(e),!0}catch(e){return!1}},isRUT:function(e){if(e.indexOf("-")>-1&&(e=e.replace(/\./g,"").toUpperCase(),e=e.split("-"),2==e.length)){var t=e[0],n=e[1];if(n.length<3&&n.match(/[0-9kK]/g)){for(var r=0,i=2,o=t.length-1;o>=0;o--)r+=t[o]*i,i=7==i?2:i+1;var a=parseInt(r/11),s=r-11*a,u=11-s;return!(u.toString().length>2)&&(u=11==u?0:10==u?"K":u)==n}}return!1},isRUC:function(e){if(null===e.match(/[^0-9]+/g)&&11==e.length){var t=e.substr(0,2);if("10"!=t&&"15"!=t&&"17"!=t&&"20"!=t)return!1;var n,r,i=0,o=5;for(r=0;r<4;r++)n=e[r],i+=parseInt(n)*o,o--;for(o=7,r=4;r<10;r++)n=e[r],i+=parseInt(n)*o,o--;var a=parseInt(i/11),s=11-(i-11*a);return(10==s?0:11==s?1:s)==e[10]}return!1},isRFC:function(e){return/[A-Z\{\¡\!\"\#\$\&\%\/\(\)\=]{3,4} ?([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1]) ?[A-z0-9]{3}/i.test(e)},arrayUnique:function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})},objectSearch:function(e,t){var n,r,i,o;for(n in t)t.hasOwnProperty(n)&&(r=n,i=t[n]);for(n in e)if(n==r){if(e[n]==i)return e}else if(e[n]instanceof Object&&e.hasOwnProperty(n)&&(o=c.objectSearch(e[n],t)))return o;return!1},serialize:function(e,t){if("object"!==(void 0===e?"undefined":_typeof(e)))return"";var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return(t?"&":"")+n.join("&")},unserialize:function(e){var t={};0===e.indexOf("?")&&(e=e.substr(1));for(var n=e.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}return t},implode:function(e,t){if(e instanceof Array)return e.join(t||",");if("object"===(void 0===e?"undefined":_typeof(e))){var n=[];for(var r in e)n.push(e[r]);return n.join(t||",")}return""},formatPrice:function(e,t,n,r,i){i=this.currency?this.currency:"string"==typeof i?i:"",r="number"!=typeof r?2:r;var o="\\d(?=(\\d{3})+"+(r>0?"\\D":"$")+")";return e=(1*e).toFixed(Math.max(0,~~r)),i+e.replace(".",n||",").replace(new RegExp(o,"g"),"$&"+(t||"."))},setCurrency:function(e){this.currency=e},formatDate:function(e){if("object"==(void 0===e?"undefined":_typeof(e))){var t=e.getMinutes(),n=e.getHours(),r=e.getDate(),i=e.getMonth()+1,o=e.getFullYear(),a=e.getSeconds();return i=i>9?i:"0"+i,r=r>9?r:"0"+r,n=n>9?n:"0"+n,t=t>9?t:"0"+t,a=a>9?a:"0"+a,r+"/"+i+"/"+o+" "+n+":"+t+":"+a}return null},strReplace:function(e,t,n){var r;if(e instanceof Array)for(var i=0;i<e.length;i++)e[i]=e[i].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),r=new RegExp(e[i],"g"),n=n.replace(r,t instanceof Array?t[i]:t);else e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),r=new RegExp(e,"g"),n=n.replace(r,t instanceof Array?t[0]:t);return n},stripHost:function(e){return e.toString().replace(/https?:\/\/.*?\//i,"/")},addHttp:function(e){return/^(?:f|ht)tps?:\/\//i.test(e)||(e="http://"+e),e},sanitizeString:function(e,t){return t="string"==typeof t?t:"-",e=e.toLowerCase(),e=e.replace(/[\[\]\(\)\-\{\}\^\,]/g,""),e=e.replace(/[àáâãäåª]/g,"a"),e=e.replace(/[éèëê]/g,"e"),e=e.replace(/[íìïî]/g,"i"),e=e.replace(/[óòöô]/g,"o"),e=e.replace(/[úùüû]/g,"u"),e=e.replace(/[ñ]/g,"n"),e=e.replace(/[ç]/g,"c"),e=e.replace(/ /g,t)},capitalize:function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},getWindowHeight:function(){return t.innerHeight?t.innerHeight:e(t).height()},getWindowWidth:function(){return e(t).width()},getLocationOrigin:function(){return t.location.origin?t.location.origin:t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")},detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},isTouchDevice:function(){return a},length:function(e){return void 0!==e.length?e.length:"object"==(void 0===e?"undefined":_typeof(e))?Object.keys(e).length:0},delay:function(){for(var e=Array.prototype.shift.call(arguments),t=Array.prototype.slice.call(arguments),n=function(){for(var e=t.length;e--;)t[e].call(null)},r=0,i=e.length;r<i;r++)setTimeout(n,e[r])},googleMapLoaded:function(){return"undefined"!=typeof google&&void 0!==google.maps},buildQueryString:function(t,n,r){r=r||location.search,r=r.split("?");var i=r[0]||"",o=r[1]||"",a={},s=o.split("&");if(""==s[0]&&s.pop(),e.each(s,function(){var e=this.split("=");if("fq"==e[0]){var t=e[1].split(":");void 0===a.fq&&(a.fq={}),a.fq[t[0]]=t[1]||""}else a[e[0]]=e[1]||""}),"object"==(void 0===t?"undefined":_typeof(t))&&"object"==(void 0===n?"undefined":_typeof(n)))e.each(t,function(e,r){if("fq"==t[e]){var i=n[e].split(":");void 0===a[t[e]]&&(a[t[e]]={}),a[t[e]][i[0]]=i[1]||void 0}a[t[e]]=n[e]||void 0});else if("fq"==t){var u=n.split(":");void 0===a[t]&&(a[t]={}),a[t][u[0]]=u[1]||void 0}else a[t]=n||void 0;var c="?",l=!0;return e.each(a,function(t,n){void 0!==n&&("fq"==t?e.each(n,function(e,n){l?l=!l:c+="&",c+=t+"="+e+":"+n}):(l?l=!l:c+="&",c+=t+"="+n))}),"?"==c&&(c=""),i+c}};r.prototype.Utils=c;var l,f={custom:{}},p={resize:[],resizeStop:[],hashChange:[],custom:{}},d=function(e,t,n){null!==e&&void 0!==e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)};d(t,"resize",function(e){for(var t=0,n=p.resize.length;t<n;t++)p.resize[t].call(null,e);p.resizeStop.length&&(l=setTimeout(function(){for(var t=0,n=p.resizeStop.length;t<n;t++)p.resizeStop[t].call(null,e)},100))}),d(t,"hashchange",function(e){for(var t=0,n=p.hashChange.length;t<n;t++)p.hashChange[t].call(null,e)});var h={on:function(){if(arguments.length>2&&d(arguments[0],arguments[1],arguments[2]),2==arguments.length){var e=arguments[0],t=arguments[1];"string"==typeof e&&"function"==typeof t&&(e in p.custom||(p.custom[e]=[]),p.custom[e].push(t))}return this},once:function(){if(2==arguments.length){var e=arguments[0],t=arguments[1];"string"==typeof e&&"function"==typeof t&&(e in f.custom||(f.custom[e]=[]),f.custom[e].push(t))}},trigger:function(e){if(!(arguments.length<1)){var t,n;if(Array.prototype.shift.call(arguments),e in p.custom)for(t=0,n=p.custom[e].length;t<n;t++)p.custom[e][t].apply(null,arguments);if(e in f.custom)for(t=f.custom[e].length;t--;)f.custom[e][t].apply(null,arguments),f.custom[e].splice(t,1)}},resize:function(e){return p.resize.push(e),this},resizeStop:function(e){return p.resizeStop.push(e),this},hashChange:function(e){return p.hashChange.push(e),this}};r.prototype.Events=h,r.prototype.Checkout=function(){function n(){}function r(t){if(~a.indexOf(t)){var n=t+"Step",r=a.join("Step ");r.replace(n,""),e("body").removeClass(r).addClass(n)}}function o(e,t,n,i){var o;if(r(e),t&u.ON&&e in c)for(o=c[e].length;o--;)c[e][o].call(null,e,n);if(t&u.ONCE&&e in l)for(o=l[e].length;o--;)l[e][o].call(null,e,n),l[e].splice(o,1)}var a=["cart","email","profile","shipping","payment"],s=["orderPlaced","cartLoaded"],u={ON:1,ONCE:2},c={cart:[],email:[],profile:[],shipping:[],payment:[],cartLoaded:[],orderPlaced:[],itemsUpdated:[]},l={cart:[],email:[],profile:[],shipping:[],payment:[],cartLoaded:[],orderPlaced:[],itemsUpdated:[]};return r(t.location.hash.replace(/[^A-Z]/gi,"")),n.prototype={once:function(){for(var e=Array.prototype.shift.call(arguments).split(" "),n=Array.prototype.slice.call(arguments),o=t.location.hash.toLowerCase(),a=0,u=e.length;a<u;a++)if(~s.indexOf(e[a]))i.once.apply(null,[e[a]].concat(Array.prototype.slice.call(arguments)));else if(~o.indexOf(e[a])){r(e[a]);for(var c=0,f=n.length;c<f;c++)n[c].call(null,e[a])}else e[a]in l&&(l[e[a]]=l[e[a]].concat(n));return this},on:function(){for(var e=Array.prototype.shift.call(arguments).split(" "),n=Array.prototype.slice.call(arguments),o=t.location.hash.toLowerCase(),a=0,u=e.length;a<u;a++)if(e[a]in c)if(~s.indexOf(e[a]))i.on.apply(null,[e[a]].concat(Array.prototype.slice.call(arguments)));else if(c[e[a]]=c[e[a]].concat(n),~o.indexOf(e[a])){r(e[a]);for(var l=n.length;l--;)n[l].call(null,e[a])}return this},onCheckout:function(){if(t.location.href.match(/\/checkout/))for(var e=Array.prototype.slice.call(arguments),n=e.length;n--;)e[n].call(null,"checkout");return this},onOrderPlacedView:function(){if(t.location.href.match(/\/checkout\/orderPlaced/))for(var e=Array.prototype.slice.call(arguments),n=e.length;n--;)e[n].call(null,"orderPlacedView");return this},onOrderPlaced:function(){return this.on.apply(null,["orderPlaced"].concat(Array.prototype.slice.call(arguments)))},onCart:function(e){return this.on.apply(null,["cart"].concat(Array.prototype.slice.call(arguments)))},onEmail:function(e){return this.on.apply(null,["email"].concat(Array.prototype.slice.call(arguments)))},onProfile:function(e){return this.on.apply(null,["profile"].concat(Array.prototype.slice.call(arguments)))},onShipping:function(e){return this.on.apply(null,["shipping"].concat(Array.prototype.slice.call(arguments)))},onPayment:function(e){return this.on.apply(null,["payment"].concat(Array.prototype.slice.call(arguments)))},onCartLoaded:function(e){return this.on.apply(null,["cartLoaded"].concat(Array.prototype.slice.call(arguments)))},onItemsUpdated:function(e){return this.on.apply(null,["itemsUpdated"].concat(Array.prototype.slice.call(arguments)))},isReady:!1,isReadyExclusive:{profile:!1,shipping:!1,payment:!1},ready:function(t,n){var r=this;if(void 0===t&&(t=function(){}),r.isReady)t();else switch(n=n||"",e(document).ready(function(){var n=[e.Deferred(),e.Deferred(),e.Deferred()],i=n[0],o=n[1],a=n[2];e("#client-profile-data").one("componentValidated.vtex",i.resolve),e("#shipping-data").one("componentValidated.vtex",o.resolve),e("#payment-data").one("componentValidated.vtex",a.resolve),e.when(i,o,a).then(function(){r.isReady=!0,r.isReadyExclusive.profile=!0,r.isReadyExclusive.shipping=!0,r.isReadyExclusive.payment=!0,t()})}),n){case"profile":r.isReadyExclusive.profile?t():e(document).ready(function(){var n=e.Deferred();e("#client-profile-data").one("componentValidated.vtex",n.resolve),e.when(n).then(function(){r.isReadyExclusive.profile=!0,t()})});break;case"shipping":r.isReadyExclusive.shipping?t():e(document).ready(function(){var n=e.Deferred();e("#shipping-data").one("componentValidated.vtex",n.resolve),e.when(n).then(function(){r.isReadyExclusive.shipping=!0,t()})});break;case"payment":r.isReadyExclusive.payment?t():e(document).ready(function(){var n=e.Deferred();e("#payment-data").one("componentValidated.vtex",n.resolve),e.when(n).then(function(){r.isReadyExclusive.payment=!0,t()})})}}},h.hashChange(function(){var e=t.location.hash.toLowerCase();console.log("HashChange: "+e);for(var n=["cart","email","profile","shipping","payment"],r=0,i=n.length;r<i;r++){var a=n[r];~e.indexOf(a)&&o(a,u.ON|u.ONCE)}}),e(document).ajaxSuccess(function(t,n,r){try{if(r.url.match(vtexjs.checkout._getUpdateItemURL())&&void 0!==n.responseText){var i=e.parseJSON(n.responseText);o("itemsUpdated",u.ON|u.ONCE,i)}}catch(e){}}),new n}();var v=function(){var n=0;return function(r,i,o){return e.Deferred(function(){var e=this,o=o||"callback",a="_jsonp_"+n++;r.match(/\?/)?r+="&"+o+"="+a:r+="?"+o+"="+a;var s=document.createElement("script");s.type="text/javascript",s.src=r,t[a]=function(n){i.call(t,n),e.resolve(n),document.getElementsByTagName("head")[0].removeChild(s),s=null,delete t[a]},document.getElementsByTagName("head")[0].appendChild(s)}).promise()}}();r.prototype.JSONP=v;var y=function(t,n){function r(){var r=this,i={parseResult:function(e,t){return null!==t&&"JSON"==t.toUpperCase()&&c.isJSON(e)?JSON.parse(e):e}};this.methods={GET:"GET",PATCH:"PATCH",POST:"POST",PUT:"PUT",DELETE:"DELETE"},this._call=function(o,a,s){return s=s||{},e.Deferred(function(){var e,u=this;if(s.crossDomain&&t.XDomainRequest?t.XDomainRequest&&(e=new XDomainRequest):e=new XMLHttpRequest,!e)throw"XMLHttpRequest not supported";var l="string"==typeof o?o.toUpperCase():r.methods.GET,f=s.data?c.serialize(s.data):"";if("string"==typeof s.dataType&&"JSONP"==s.dataType.toUpperCase())return v(a,s.jsonp);switch(e.open(l,a+(l==r.methods.GET?"?"+f:"")),l){case r.methods.POST:e.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if("object"==_typeof(s.headers))for(var p in s.headers)e.setRequestHeader(p,s.headers[p]);e.onload=function(){if(200==e.status||t.XDomainRequest){var r=i.parseResult(e.responseText,s.dataType||null);s.success!==n&&s.success.call(null,r),u.resolve(r)}else s.error!==n&&s.error.call(null,e),u.reject(e)},e.onerror=function(){s.error!==n&&s.error.call(null,e),u.reject(e)},"function"==typeof s.beforeSend&&s.beforeSend.call(null,e),e.send(f)}).promise()}}return r.prototype={get:function(e,t,n,r){var i={data:t,success:n,dataType:r};return this._call(this.methods.GET,e,i)},post:function(e,t,n,r){var i={data:t,success:n,dataType:r};return this._call(this.methods.POST,e,i)}},new r}(t);return r.prototype.ajax=function(e){return y._call(e.type,e.url,e)},r.prototype.Ajax=y,r.prototype.MasterData=function(e,t,n){function r(){var t=this,r=null,i="CL";this.OP_INSERT="insert",this.OP_UPDATE="update",this.ERR_INVALID_USER="User doesn't exist",this.ERR_INVALID_PARTNER="Partner doesn't exist",this.ERR_INVALID_EMAIL="Invalid email";var o={types:{DOCUMENTS:"documents",SEARCH:"search",SCHEMAS:"schemas",FACET:"search/facet",ATTACHMENT:"documents"},_getURL:function(e,t,o){if(e=e!==n?e:i,null===r)throw"storeName is not set, Fizzmod.MasterData.setStore(storeName) must be called";return c.strReplace(["{storeName}","{entity}","{type}"],[r,e,t],"/{storeName}/dataentities/{entity}/{type}/")+(o!==n&&null!==o?o:"")},_getAttachmentURL:function(e,t,o){if(e=e!==n?e:i,null===r)throw"storeName is not set, Fizzmod.MasterData.setStore(storeName) must be called";return c.strReplace(["{storeName}","{entity}","{field}"],[r,e,o],"//api.vtexcrm.com.br/{storeName}/dataentities/{entity}/documents/{id}/{field}/attachments")+(t!==n&&null!==t?t:"")},_call:function(t,n,r,i,o,a){return e.ajax({url:this._getURL(i,o,n),type:t,accept:"application/vnd.vtex.ds.v10+json",contentType:"application/json; charset=utf-8",beforeSend:function(e){for(var t in a)e.setRequestHeader(t,a[t])},crossDomain:!0,data:"GET"!==t&&null!==r?JSON.stringify(r):r})},_upload:function(t,n,r,i){return e.ajax({url:this._getAttachmentURL(r,t,i),type:"POST",data:n,processData:!1,contentType:!1,accept:"application/vnd.vtex.ds.v10+json",enctype:"multipart/form-data"})}},a=function(e,n){var r=e,i=n;this.isOK=function(){return!0},this.isInsert=function(){return i==t.OP_INSERT},this.isUpdate=function(){return i==t.OP_UPDATE},this.getResults=function(){return r}},s=function(t){var r=null,i=null;if("object"==(void 0===t?"undefined":_typeof(t)))for(var o in t)t.hasOwnProperty(o)&&"function"!=typeof t[o]&&("responseText"==o&&(r=e.parseJSON(t[o])),"string"==typeof o&&"message"==o.toLowerCase()?i=t[o]:this[o]=t[o]);else"string"==typeof t&&(i=t);this.isOK=function(){return!1},this.getResponse=function(){return r},this.getMessage=function(){return null!==i?i:null!==r&&r.Message!==n?r.Message:null}};this._resultOK=function(e){return e!==n&&e.length&&e[0].id!==n},this._parseResult=function(e,t){return new a(e,t)},this._parseError=function(e){return new s(e)},this._get=function(e,t,n){var r=["email","id"];t=t instanceof Array?c.arrayUnique(t.concat(["id"])):r;var i={_fields:t.join(",")};return o._call("GET",e,i,n,o.types.DOCUMENTS)},this._exists=function(t,r){return e.Deferred(function(){var e=this;return o._call("GET",t,{_fields:"id"},r,o.types.DOCUMENTS).done(function(t){t!==n&&t.id!==n?e.resolve(t):e.reject(!1)}).fail(function(t){e.reject(t)})}).promise()},this._insert=function(t,n){return e.Deferred(function(){var r=this;return o._call("POST",null,t,n,o.types.DOCUMENTS).done(function(n){r.resolve(e.extend(t,n))}).fail(function(e){r.reject(e)})}).promise()},this._upload=function(t,n){return e.Deferred(function(){var r=this;return o._call("POST",null,t,n,o.types.DOCUMENTS).done(function(n){r.resolve(e.extend(t,n))}).fail(function(e){r.reject(e)})}).promise()},this._fullUpdate=function(e,t,n){return o._call("PUT",e,t,n,o.types.DOCUMENTS)},this._partialUpdate=function(t,n,r){return e.Deferred(function(){var e=this;return o._call("PATCH",t,n,r,o.types.DOCUMENTS).done(function(t){e.resolve(n)}).fail(function(t){e.reject(t)})}).promise()},this._search=function(e,t,n,r,i){r=r||49,i=i||0;var a={"REST-Range":"resources="+i+"-"+(r+i)};return e._fields=t.join(","),o._call("GET",null,e,n,o.types.SEARCH,a)},this._getByEmail=function(e,t){return this._search({email:e},["email","id"],t,1,0)},this.setStore=function(e){return r=e,this},this.setEntity=function(e){return i=e,this}}return r.prototype={newsletter:function(t,r,i){var o=this,a={isNewsletterOptIn:r===n||r};return e.Deferred(function(){var n=this;if(!c.isEmail(t))return n.reject(o._parseError(o.ERR_INVALID_EMAIL));o._getByEmail(t,i).done(function(r){return o._resultOK(r)?o._partialUpdate(r[0].id,a,i).done(function(e){n.resolve(o._parseResult(e,o.OP_UPDATE))}).fail(function(e){n.reject(o._parseResult(e))}):o._insert(e.extend({email:t},a),i).done(function(e){n.resolve(o._parseResult(e,o.OP_INSERT))}).fail(function(e){n.reject(o._parseResult(e))})}).fail(function(e){n.reject(o._parseError(e))})}).promise()},getUser:function(t,n,r){var i=this;return e.Deferred(function(){var e=this;if(!c.isEmail(t))return e.reject(i._parseError(i.ERR_INVALID_EMAIL));i._getByEmail(t,r).done(function(t){if(i._resultOK(t))return i._get(t[0].id,n,r).done(function(t){e.resolve(i._parseResult(t))}).fail(function(t){e.reject(i._parseResult(t))});e.reject(i._parseError(i.ERR_INVALID_USER))}).fail(function(t){e.reject(i._parseError(t))})}).promise()},updateUser:function(t,n,r){var i=this;return e.Deferred(function(){var e=this;return c.isEmail(t)?i._getByEmail(t,r).done(function(t){if(i._resultOK(t))return i._partialUpdate(t[0].id,n,r).done(function(t){e.resolve(i._parseResult(t))}).fail(function(t){e.reject(t)});e.reject(i._parseError(i.ERR_INVALID_USER))}).fail(function(t){e.reject(i._parseError(t))}):e.reject(i._parseError(i.ERR_INVALID_EMAIL))}).promise()},insertUpdateUser:function(t,n,r){var i=this;return e.Deferred(function(){var o=this;return c.isEmail(t)?i._getByEmail(t,r).done(function(a){return i._resultOK(a)?i._partialUpdate(a[0].id,n,r).done(function(e){o.resolve(i._parseResult(e,i.OP_UPDATE))}).fail(function(e){o.reject(i._parseError(e))}):i._insert(e.extend({email:t},n),r).done(function(e){o.resolve(i._parseResult(e,i.OP_INSERT))}).fail(function(e){o.reject(i._parseError(e))})}).fail(function(e){o.reject(i._parseError(e))}):o.reject(i._parseError(i.ERR_INVALID_EMAIL))}).promise()},insert:function(t,n){var r=this;return e.Deferred(function(){var e=this;return r._insert(t,n).done(function(t){e.resolve(r._parseResult(t))}).fail(function(t){e.reject(r._parseError(t))})}).promise()},insertUpdate:function(t,n,r){var i=this;return e.Deferred(function(){var e=this;return i._partialUpdate(t,n,r).done(function(t){e.resolve(i._parseResult(t))}).fail(function(t){e.reject(i._parseError(t))})}).promise()},search:function(t,n,r,i,o){var a=this;return e.Deferred(function(){var e=this;return a._search(t,n,r,i,o).done(function(t){e.resolve(a._parseResult(t))}).fail(function(t){e.reject(a._parseError(t))})}).promise()},get:function(t,n,r){var i=this;return e.Deferred(function(){var e=this;return i._get(t,n,r).done(function(t){e.resolve(i._parseResult(t))}).fail(function(t){e.reject(i._parseError(t))})}).promise()},uploadFile:function(e){e.files}},new r}(jQuery),new r}(jQuery,window);"undefined"!=typeof dataLayer&&dataLayer.push({event:"fizzmodLoaded"});
